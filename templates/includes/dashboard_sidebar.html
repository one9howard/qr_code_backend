<!-- Sidebar (Keeping logic as is, visual update via global CSS) -->
<aside class="app-sidebar" id="sidebar">
    <!-- Close Button (Mobile) -->
    <button class="close-sidebar-btn" onclick="document.getElementById('sidebar').classList.remove('active')"
        style="display: none; position: absolute; top: 16px; right: 16px; background: none; border: none; color: white; font-size: 24px; cursor: pointer; z-index: 50;">
        &times;
    </button>
    <script>
        // Simple CSS injection for mobile visibility
        const style = document.createElement('style');
        style.textContent = `
                @media (max-width: 768px) {
                    .close-sidebar-btn { display: block !important; }
                }
            `;
        document.head.appendChild(style);
    </script>

    <a href="/" class="sidebar-logo">
        <img src="{{ url_for('static', filename='img/logo.png') }}" alt="InSite Signs" style="height: 56px;">
    </a>

    <nav class="sidebar-nav">
        <a href="{{ url_for('dashboard.index') }}"
            class="nav-item {% if request.endpoint == 'dashboard.index' %}active{% endif %}">
            <span class="nav-icon">ğŸ“Š</span> Dashboard
        </a>
        <a href="{{ url_for('dashboard.index') }}#leads-section" class="nav-item">
            <span class="nav-icon">ğŸ‘¥</span> Buyer Leads
        </a>
        <a href="{{ url_for('dashboard.how_it_works') }}"
            class="nav-item {% if request.endpoint == 'dashboard.how_it_works' %}active{% endif %}">
            <span class="nav-icon">ğŸ’¡</span> How SmartSigns Get Leads
        </a>
        <a href="{{ url_for('account.index') }}"
            class="nav-item {% if request.endpoint == 'account.index' %}active{% endif %}">
            <span class="nav-icon">âš™ï¸</span> Settings
        </a>
    </nav>

    <div class="sidebar-footer">
        <div class="user-mini-profile">
            <div class="user-avatar">
                {{ current_user.display_name[0] | upper }}
            </div>
            <div class="user-info">
                <div class="user-name">{{ current_user.display_name }}</div>
                <div class="user-role">
                    {% if current_user.is_pro %}
                    <span style="color: #4facfe;">Pro (Active)</span>
                    {% else %}
                    Free Plan
                    {% endif %}
                </div>
            </div>
            <a href="{{ url_for('auth.logout') }}" style="color: #64748b; text-decoration: none;" title="Logout">â†ªï¸</a>
        </div>
    </div>
</aside>