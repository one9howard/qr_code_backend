# =============================================================================
# QR Code Backend - Environment Variables
# =============================================================================
# Use this as a template for .env (dev) or AWS Secrets (prod).
# =============================================================================

# -----------------------------------------------------------------------------
# Required: App Stage & Flask Environment
# -----------------------------------------------------------------------------
# APP_STAGE: 'test' (staging/local) or 'prod' (live). Controls safety rails.
APP_STAGE=test
# FLASK_ENV: 'development' or 'production'
FLASK_ENV=development

# -----------------------------------------------------------------------------
# Required: Server Identity
# -----------------------------------------------------------------------------
# Must be explicitly set in production using HTTPs.
BASE_URL=http://localhost:5000

# -----------------------------------------------------------------------------
# Required: Security Secrets
# -----------------------------------------------------------------------------
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=dev-secret-key-change-this

# -----------------------------------------------------------------------------
# Required: Directory Paths (Container/Instance)
# -----------------------------------------------------------------------------
# In Docker, this should likely be a volume mount, e.g., /data or /var/lib/qrapp
INSTANCE_DIR=instance

# -----------------------------------------------------------------------------
# Required: Database
# -----------------------------------------------------------------------------
# PostgreSQL connection string is MANDATORY.
# Default for Docker Compose local dev:
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/insite_signs

# -----------------------------------------------------------------------------
# Required: Stripe API Keys (from Stripe Dashboard)
# -----------------------------------------------------------------------------
# Use sk_test_... for APP_STAGE=test. Use sk_live_... ONLY for APP_STAGE=prod.
STRIPE_SECRET_KEY=sk_test_placeholder...
STRIPE_PUBLISHABLE_KEY=pk_test_placeholder...
STRIPE_WEBHOOK_SECRET=whsec_placeholder...

# -----------------------------------------------------------------------------
# Required: Print Server Communication Token
# -----------------------------------------------------------------------------
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(16))"
PRINT_JOBS_TOKEN=dev-token-insecure


# -----------------------------------------------------------------------------
# Optional: Stripe Price IDs (Required if not using Lookup Keys)
# -----------------------------------------------------------------------------

# STRIPE KEYS
STRIPE_PUBLISHABLE_KEY=pk_test_...
STRIPE_SECRET_KEY=sk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...

# INSITE SIGN LISTING UNLOCK (stripe price keys)
STRIPE_PRICE_LISTING_UNLOCK=price_...

# Insite SIGN LISTING KIT
STRIPE_PRICE_LISTING_KIT=price_...

FREE_PLAN_MAX_ACTIVE_PROPERTIES=1

# INSITE SIGN PRO SUBSCRIPTION (stripe price keys)
STRIPE_PRICE_MONTHLY=price_...
STRIPE_PRICE_ANNUAL=price_...

# STRIPE PRICE SIGN
STRIPE_PRICE_SIGN=price_...

# SMARTSIGN PRINT (stripe price keys)
STRIPE_PRICE_SMARTSIGN_12x18=price_...
STRIPE_PRICE_SMARTSIGN_18x24=price_...
STRIPE_PRICE_SMARTSIGN_24x36=price_...
STRIPE_PRICE_SMARTSIGN_36x18=price_...

# LISTING SIGN PRINT (stripe price keys)
STRIPE_PRICE_SIGN_12X18=price_...
STRIPE_PRICE_SIGN_18X24=price_...
STRIPE_PRICE_SIGN_24X36=price_...
STRIPE_PRICE_SIGN_36X18=price_...


# -----------------------------------------------------------------------------
# Optional: Proxy Configuration
# -----------------------------------------------------------------------------
# Set to true if behind ALB/nginx/Cloudflare. Required for correct client IPs.
TRUST_PROXY_HEADERS=true
PROXY_FIX_NUM_PROXIES=1

# -----------------------------------------------------------------------------
# Optional: AWS S3 Storage
# -----------------------------------------------------------------------------
# STORAGE_BACKEND=s3
# S3_BUCKET=my-app-bucket
# AWS_REGION=us-east-1

# -----------------------------------------------------------------------------
# Optional: Email Notifications (via SMTP)
# -----------------------------------------------------------------------------
# Required for PROD. Optional for TEST/STAGING.
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your_email@gmail.com
# SMTP_PASS=your_app_password
# NOTIFY_EMAIL_FROM=noreply@insitesigns.com

# -----------------------------------------------------------------------------
# Optional: Free Tier Retention
# -----------------------------------------------------------------------------
# Days to keep unpaid properties before auto-deletion (Default: 7)
FREE_TIER_RETENTION_DAYS=7

# -----------------------------------------------------------------------------
# Hybrid Monetization & Limits
# -----------------------------------------------------------------------------
STRIPE_PRICE_LISTING_UNLOCK=price_1SmW...
STRIPE_PRICE_LISTING_KIT=price_...

