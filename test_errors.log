============================= test session starts ==============================
platform linux -- Python 3.13.11, pytest-9.0.2, pluggy-1.6.0
rootdir: /app
plugins: mock-3.15.1, cov-7.0.0, requests-mock-1.12.1
collected 197 items / 51 errors

<Dir app>
  <Dir tests>
    <Module test_admin_metrics.py>
      <Function test_admin_metrics_page_loads>
      <Function test_non_admin_cannot_access_metrics>
      <Function test_metrics_data_display>
    <Module test_agent_claiming_security.py>
      <Function test_register_does_not_link_agent_before_verification>
      <Function test_login_unverified_does_not_link_agent>
      <Function test_verify_email_links_agent>
      <Function test_submit_cannot_claim_other_email>
      <Function test_submit_blocked_when_agent_claimed_by_other_user>
    <Module test_ai_readiness.py>
      <UnitTestCase TestAIReadiness>
        <TestCaseFunction test_action_rejection>
        <TestCaseFunction test_agent_action_lifecycle>
        <TestCaseFunction test_app_event_schema_and_defaults>
        <TestCaseFunction test_pii_stripping>
        <TestCaseFunction test_request_correlation>
        <TestCaseFunction test_strict_allowlist>
    <Module test_analytics.py>
      <Function test_per_property_metrics_structure>
      <Function test_per_agent_rollup_structure>
    <Module test_config_boot.py>
      <Class TestConfigStagingBoot>
        <Function test_staging_boot_without_smtp>
    <Module test_dashboard_ctas.py>
      <Function test_progress_assign_next_step_points_to_dashboard_anchor>
    <Module test_dashboard_smartsigns_phase1.py>
      <Class TestSmartSignsPhase1>
        <Function test_create_asset_always_unactivated>
        <Function test_pro_user_cant_activate_without_order>
    <Module test_dependency_versions.py>
      <Class TestDependencyVersions>
        <Function test_flask_version_is_3x>
        <Function test_werkzeug_version_is_3x>
        <Function test_flask_werkzeug_compatible>
    <Module test_env_sanitization.py>
      <Class TestGetEnvStr>
        <Function test_strips_whitespace_by_default>
        <Function test_preserves_whitespace_when_strip_false>
        <Function test_returns_none_when_missing>
        <Function test_returns_default_when_missing>
        <Function test_returns_default_when_empty_after_strip>
        <Function test_required_raises_on_missing>
        <Function test_required_raises_on_empty_after_strip>
        <Function test_required_passes_with_valid_value>
        <Function test_stripe_webhook_secret_scenario>
    <Module test_events_csrf_exempt.py>
      <Function test_events_endpoint_accepts_post_without_csrf>
      <Function test_events_blueprint_is_csrf_exempt_in_app>
    <Module test_events_csrf_runtime.py>
      <Function test_events_csrf_exempt_code_inspection>
      <Function test_events_endpoint_returns_200_without_csrf>
    <Module test_feature_flows.py>
      <Function test_lead_lifecycle>
      <Function test_qr_variant_resolution>
      <Function test_open_house_mode>
      <Function test_gating_rendering>
      <Function test_cleanup_calls_storage_delete>
    <Module test_fix_cleanup.py>
      <Function test_smart_riser_webhook_behavior>
      <Function test_admin_drift_grep>
    <Module test_free_property.py>
      <Function test_new_property_get>
      <Function test_new_property_post_success>
      <Function test_new_property_post_free_limit>
    <Module test_fulfillment.py>
      <Function test_fulfill_order_enqueues_one_print_job>
      <Function test_fulfill_order_idempotency>
    <Module test_global_code_generation_enforcement.py>
      <Function test_property_creation_uses_global_generator>
      <Function test_variant_creation_uses_global_generator>
    <Module test_guest_linking_security.py>
      <Function test_guest_linking_security>
    <Module test_guest_security.py>
      <Function test_guest_resize_with_body_token>
      <Function test_billing_unverified_access>
      <Function test_branding_csrf_protection>
    <Module test_import.py>
      <Function test_import_listing>
      <Function test_import_smart>
      <Function test_import_validation>
    <Module test_lead_attribution.py>
      <Class TestAttribToken>
        <Function test_make_verify_token_roundtrip>
        <Function test_expired_token_rejected>
        <Function test_forged_signature_rejected>
        <Function test_forged_asset_id_rejected>
        <Function test_invalid_token_formats>
      <Class TestLeadValidation>
        <Function test_lead_with_email_only>
        <Function test_lead_with_phone_only>
        <Function test_lead_without_contact_fails>
      <Class TestAttributionCookie>
        <Function test_cookie_set_on_assigned_smartsign>
        <Function test_cookie_not_set_on_unassigned_smartsign>
      <Class TestLeadAttribution>
        <Function test_lead_attributed_with_valid_token>
        <Function test_forged_token_ignored>
    <Module test_listing_kits_imports.py>
      <Function test_listing_kits_import>
      <Function test_kit_zip_builder_structure>
    <Module test_local_storage_security.py>
      <Class TestLocalStorageSecurity>
        <Function test_path_traversal_with_dotdot_raises_error>
        <Function test_path_traversal_with_absolute_path_raises_error>
        <Function test_normal_paths_work_correctly>
        <Function test_get_url_returns_storage_path>
        <Function test_put_and_get_with_safe_path>
        <Function test_get_file_with_traversal_raises>
    <Module test_notifications_skipped.py>
      <Class TestNotificationSkipped>
        <Function test_notification_returns_skipped_without_smtp>
        <Function test_notification_tuple_has_three_elements>
    <Module test_onboarding_activation.py>
      <Class TestPhase1Dashboard>
        <Function test_dashboard_mode_no_signs>
        <Function test_dashboard_mode_needs_assignment>
        <Function test_dashboard_mode_active>
        <Function test_progress_percent_stages>
        <Function test_first_scan_banner>
        <Function test_first_lead_banner>
        <Function test_analytics_gated_until_scan>
    <Module test_pdf_security.py>
      <UnitTestCase TestResolvePdfPath>
        <TestCaseFunction test_allows_valid_order_path_format>
        <TestCaseFunction test_blocks_absolute_paths>
        <TestCaseFunction test_blocks_leading_slash>
        <TestCaseFunction test_blocks_path_traversal>
        <TestCaseFunction test_empty_and_none_input>
        <TestCaseFunction test_rejects_invalid_order_id_format>
      <UnitTestCase TestPrivatePdfPaths>
        <TestCaseFunction test_get_private_pdf_path_format>
        <TestCaseFunction test_get_private_pdf_relative_path_format>
      <UnitTestCase TestPaidStatuses>
        <TestCaseFunction test_paid_statuses_contains_expected_values>
    <Module test_pdf_vector_qr.py>
      <Function test_pdf_vector_qr_no_embedded_images>
      <Function test_pdf_vector_qr_all_sizes>
      <Function test_pdf_with_agent_photo_has_one_image>
    <Module test_phase4_guardrails.py>
      <Function test_free_user_cannot_create_second_property>
      <Function test_pro_user_can_create_multiple_properties>
      <Function test_reassign_requires_pro>
      <Function test_reassign_requires_activated>
      <Function test_reassign_blocked_when_frozen>
      <Function test_listing_kit_returns_reason_code>
    <Module test_phase_2_5.py>
      <Function test_webhook_idempotency_activation>
      <Function test_assignment_rules>
      <Function test_smart_sign_checkout_endpoint_disabled>
    <Module test_placeholder.py>
      <Function test_release_placeholder>
    <Module test_print_jobs.py>
      <Function test_claim_jobs_is_idempotent>
      <Function test_download_pdf_requires_auth_and_returns_bytes>
    <Module test_print_preflight.py>
      <Function test_validate_sign_layout_success>
      <Function test_validate_sign_layout_too_small_qr>
      <Function test_validate_sign_layout_small_bleed>
      <Function test_validate_sign_layout_warnings>
    <Module test_print_skus.py>
      <Function test_yard_sign_skus>
      <Function test_smart_sign_skus>
      <Function test_smart_riser_skus>
      <Function test_get_price_id_uses_cache_in_test_mode>
    <Module test_printing_atomic.py>
      <Function test_claim_jobs_success>
      <Function test_claim_unauthorized>
      <Function test_mark_downloaded_transition>
      <Function test_download_pdf>
    <Module test_pro_features.py>
      <UnitTestCase TestLeadSubmissionCSRF>
        <TestCaseFunction test_lead_submission_no_csrf_error>
      <UnitTestCase TestFreeTierLeadLimit>
        <TestCaseFunction test_free_lead_limit_constant>
      <UnitTestCase TestCSVExport>
        <TestCaseFunction test_csv_export_requires_login>
        <TestCaseFunction test_csv_export_route_exists>
      <UnitTestCase TestAnalyticsService>
        <TestCaseFunction test_analytics_module_exists>
        <TestCaseFunction test_analytics_returns_expected_keys>
    <Module test_property_creation_flow.py>
      <Class TestPropertyCreationFlow>
        <Function test_get_submit_page_property_only_mode>
        <Function test_create_property_only_does_not_create_order>
        <Function test_standard_flow_creates_order>
    <Module test_qr_code_uniqueness.py>
      <Class TestQRCodeUniqueness>
        <Function test_is_code_taken_finds_sign_assets>
        <Function test_is_code_taken_finds_properties_qr_code>
        <Function test_is_code_taken_finds_qr_variants>
        <Function test_generate_unique_code_avoids_collisions>
      <Class TestOptionBEnforcement>
        <Function test_create_asset_always_unactivated>
        <Function test_activate_asset_requires_order_id>
        <Function test_activate_asset_rejects_already_activated>
    <Module test_qr_logo_pro_gating.py>
      <Function test_qr_logo_gating_free_user>
      <Function test_qr_logo_flow_pro_user>
    <Module test_qr_logo_rendering.py>
      <Function test_qr_without_logo>
      <Function test_qr_with_logo_decodes>
      <Function test_qr_auto_fallback>
    <Module test_qr_routes.py>
      <Class TestPropertyPage>
        <Function test_paid_property_returns_200>
        <Function test_expired_property_returns_410>
        <Function test_invalid_slug_returns_404>
        <Function test_free_property_returns_200>
      <Class TestQRRedirect>
        <Function test_valid_code_redirects>
        <Function test_expired_property_code_returns_410>
        <Function test_invalid_code_returns_404>
        <Function test_scan_logs_to_qr_scans>
    <Module test_qr_scaling.py>
      <Function test_qr_integer_scaling>
    <Module test_release_gate.py>
      <Function test_release_gate_fails_on_forbidden>
      <Function test_font_registration>
    <Module test_repro_500.py>
      <Function test_dashboard_new_property_page_loads>
    <Module test_smart_sign_activation.py>
      <Class TestSmartSignActivation>
        <Function test_inactive_asset_scan_returns_not_activated_page>
        <Function test_active_asset_scan_redirects_to_property>
        <Function test_active_unassigned_asset_shows_unassigned_page>
        <Function test_assignment_blocked_for_inactive_asset>
        <Function test_unassigned_active_asset_scan_logs_to_app_events>
    <Module test_smart_signs.py>
      <Class TestSmartSigns>
        <Function test_pro_create_asset_via_purchase_flow>
        <Function test_pro_assign_asset_to_own_property>
        <Function test_free_can_initial_assign_asset>
        <Function test_free_cannot_reassign_asset>
        <Function test_free_cannot_unassign_asset>
        <Function test_frozen_blocks_assign>
        <Function test_inactive_blocks_assign>
        <Function test_scan_resolution_flow>
        <Function test_unassigned_asset_page>
    <Module test_smart_signs_printing.py>
      <UnitTestCase TestSmartSignsPrinting>
        <TestCaseFunction test_frozen_asset_access>
        <TestCaseFunction test_non_pro_access>
        <TestCaseFunction test_pro_active_flow>
    <Module test_smartsign_v2_persistence.py>
      <Function test_smartsign_v2_persistence_e2e>
    <Module test_smartsign_validation.py>
      <Function test_v2_validation>
    <Module test_smoke.py>
      <Function test_healthz>
      <Function test_homepage>
      <Function test_qr_generation>
      <Function test_smartsign_pdf_generation>
    <Module test_strategy_alignment.py>
      <Function test_listing_kit_persistence>
      <Function test_paid_statuses_completeness>
      <Function test_webhook_freeze_logic_uses_constants>
      <Function test_smart_sign_strictness>
    <Module test_stripe_price_resolver.py>
      <Function test_resolve_price_id_calls_fail_if_no_cache_and_no_patch>
      <Function test_resolve_uses_injected_cache>
      <Function test_warm_cache_forbidden_in_test>
      <Function test_warm_cache_success>
      <Function test_validation_inactive_product>
      <Function test_validation_duplicate_prices>
      <Function test_validation_missing_key>
    <Module test_tour_scheduling.py>
      <Function test_tour_scheduling_link_render>
      <Function test_free_tier_hides_virtual_tour>
    <Module test_webhook_amounts.py>
      <Function test_webhook_captures_totals>
    <Module test_yard_sign_pdf.py>
      <Class TestListingSignPDF>
        <Function test_generate_yard_sign_pdf_queries_schema_correctly>
        <Function test_yard_sign_qr_value_is_r_path>
        <Function test_landscape_layout_used_for_36x24>
        <Function test_standard_layout_used_for_18x24>
        <Function test_generate_yard_sign_pdf_smoke>

==================================== ERRORS ====================================
______________ ERROR collecting tests/tests/test_admin_metrics.py ______________
import file mismatch:
imported module 'test_admin_metrics' has this __file__ attribute:
  /app/tests/test_admin_metrics.py
which is not the same as the test file we want to collect:
  /app/tests/tests/test_admin_metrics.py
HINT: remove __pycache__ / .pyc files and/or use a unique basename for your test file modules
_________ ERROR collecting tests/tests/test_agent_claiming_security.py _________
import file mismatch:
imported module 'test_agent_claiming_security' has this __file__ attribute:
  /app/tests/test_agent_claiming_security.py
which is not the same as the test file we want to collect:
  /app/tests/tests/test_agent_claiming_security.py
HINT: remove __pycache__ / .pyc files and/or use a unique basename for your test file modules
______________ ERROR collecting tests/tests/test_ai_readiness.py _______________
import file mismatch:
imported module 'test_ai_readiness' has this __file__ attribute:
  /app/tests/test_ai_readiness.py
which is not the same as the test file we want to collect:
  /app/tests/tests/test_ai_readiness.py
HINT: remove __pycache__ / .pyc files and/or use a unique basename for your test file modules
________________ ERROR collecting tests/tests/test_analytics.py ________________
import file mismatch:
imported module 'test_analytics' has this __file__ attribute:
  /app/tests/test_analytics.py
which is not the same as the test file we want to collect:
  /app/tests/tests/test_analytics.py
HINT: remove __pycache__ / .pyc files and/or use a unique basename for your test file modules
_______________ ERROR collecting tests/tests/test_config_boot.py _______________
import file mismatch:
imported module 'test_config_boot' has this __file__ attribute:
  /app/tests/test_config_boot.py
which is not the same as the test file we want to collect:
  /app/tests/tests/test_config_boot.py
HINT: remove __pycache__ / .pyc files and/or use a unique basename for your test file modules
_____________ ERROR collecting tests/tests/test_dashboard_ctas.py ______________
import file mismatch:
imported module 'test_dashboard_ctas' has this __file__ attribute:
  /app/tests/test_dashboard_ctas.py
which is not the same as the test file we want to collect:
  /app/tests/tests/test_dashboard_ctas.py
HINT: remove __pycache__ / .pyc files and/or use a unique basename for your test file modules
_______ ERROR collecting tests/tests/test_dashboard_smartsigns_phase1.py _______
import file mismatch:
imported module 'test_dashboard_smartsigns_phase1' has this __file__ attribute:
  /app/tests/test_dashboard_smartsigns_phase1.py
which is not the same as the test file we want to collect:
  /app/tests/tests/test_dashboard_smartsigns_phase1.py
HINT: remove __pycache__ / .pyc files and/or use a unique basename for your test file modules
___________ ERROR collecting tests/tests/test_dependency_versions.py ___________
import file mismatch:
imported module 'test_dependency_versions' has this __file__ attribute:
  /app/tests/test_dependency_versions.py
which is not the same as the test file we want to collect:
  /app/tests/tests/test_dependency_versions.py
HINT: remove __pycache__ / .pyc files and/or use a unique basename for your test file modules
____________ ERROR collecting tests/tests/test_env_sanitization.py _____________
import file mismatch:
imported module 'test_env_sanitization' has this __file__ attribute:
  /app/tests/test_env_sanitization.py
which is not the same as the test file we want to collect:
  /app/tests/tests/test_env_sanitization.py
HINT: remove __pycache__ / .pyc files and/or use a unique basename for your test file modules
___________ ERROR collecting tests/tests/test_events_csrf_exempt.py ____________
import file mismatch:
imported module 'test_events_csrf_exempt' has this __file__ attribute:
  /app/tests/test_events_csrf_exempt.py
which is not the same as the test file we want to collect:
  /app/tests/tests/test_events_csrf_exempt.py
HINT: remove __pycache__ / .pyc files and/or use a unique basename for your test file modules
___________ ERROR collecting tests/tests/test_events_csrf_runtime.py ___________
import file mismatch:
imported module 'test_events_csrf_runtime' has this __file__ attribute:
  /app/tests/test_events_csrf_runtime.py
which is not the same as the test file we want to collect:
  /app/tests/tests/test_events_csrf_runtime.py
HINT: remove __pycache__ / .pyc files and/or use a unique basename for your test file modules
______________ ERROR collecting tests/tests/test_feature_flows.py ______________
import file mismatch:
imported module 'test_feature_flows' has this __file__ attribute:
  /app/tests/test_feature_flows.py
which is not the same as the test file we want to collect:
  /app/tests/tests/test_feature_flows.py
HINT: remove __pycache__ / .pyc files and/or use a unique basename for your test file modules
_______________ ERROR collecting tests/tests/test_fix_cleanup.py _______________
import file mismatch:
imported module 'test_fix_cleanup' has this __file__ attribute:
  /app/tests/test_fix_cleanup.py
which is not the same as the test file we want to collect:
  /app/tests/tests/test_fix_cleanup.py
HINT: remove __pycache__ / .pyc files and/or use a unique basename for your test file modules
______________ ERROR collecting tests/tests/test_free_property.py ______________
import file mismatch:
imported module 'test_free_property' has this __file__ attribute:
  /app/tests/test_free_property.py
which is not the same as the test file we want to collect:
  /app/tests/tests/test_free_property.py
HINT: remove __pycache__ / .pyc files and/or use a unique basename for your test file modules
_______________ ERROR collecting tests/tests/test_fulfillment.py _______________
import file mismatch:
imported module 'test_fulfillment' has this __file__ attribute:
  /app/tests/test_fulfillment.py
which is not the same as the test file we want to collect:
  /app/tests/tests/test_fulfillment.py
HINT: remove __pycache__ / .pyc files and/or use a unique basename for your test file modules
___ ERROR collecting tests/tests/test_global_code_generation_enforcement.py ____
import file mismatch:
imported module 'test_global_code_generation_enforcement' has this __file__ attribute:
  /app/tests/test_global_code_generation_enforcement.py
which is not the same as the test file we want to collect:
  /app/tests/tests/test_global_code_generation_enforcement.py
HINT: remove __pycache__ / .pyc files and/or use a unique basename for your test file modules
_________ ERROR collecting tests/tests/test_guest_linking_security.py __________
import file mismatch:
imported module 'test_guest_linking_security' has this __file__ attribute:
  /app/tests/test_guest_linking_security.py
which is not the same as the test file we want to collect:
  /app/tests/tests/test_guest_linking_security.py
HINT: remove __pycache__ / .pyc files and/or use a unique basename for your test file modules
_____________ ERROR collecting tests/tests/test_guest_security.py ______________
import file mismatch:
imported module 'test_guest_security' has this __file__ attribute:
  /app/tests/test_guest_security.py
which is not the same as the test file we want to collect:
  /app/tests/tests/test_guest_security.py
HINT: remove __pycache__ / .pyc files and/or use a unique basename for your test file modules
_________________ ERROR collecting tests/tests/test_import.py __________________
import file mismatch:
imported module 'test_import' has this __file__ attribute:
  /app/tests/test_import.py
which is not the same as the test file we want to collect:
  /app/tests/tests/test_import.py
HINT: remove __pycache__ / .pyc files and/or use a unique basename for your test file modules
____________ ERROR collecting tests/tests/test_lead_attribution.py _____________
import file mismatch:
imported module 'test_lead_attribution' has this __file__ attribute:
  /app/tests/test_lead_attribution.py
which is not the same as the test file we want to collect:
  /app/tests/tests/test_lead_attribution.py
HINT: remove __pycache__ / .pyc files and/or use a unique basename for your test file modules
__________ ERROR collecting tests/tests/test_listing_kits_imports.py ___________
import file mismatch:
imported module 'test_listing_kits_imports' has this __file__ attribute:
  /app/tests/test_listing_kits_imports.py
which is not the same as the test file we want to collect:
  /app/tests/tests/test_listing_kits_imports.py
HINT: remove __pycache__ / .pyc files and/or use a unique basename for your test file modules
_________ ERROR collecting tests/tests/test_local_storage_security.py __________
import file mismatch:
imported module 'test_local_storage_security' has this __file__ attribute:
  /app/tests/test_local_storage_security.py
which is not the same as the test file we want to collect:
  /app/tests/tests/test_local_storage_security.py
HINT: remove __pycache__ / .pyc files and/or use a unique basename for your test file modules
__________ ERROR collecting tests/tests/test_notifications_skipped.py __________
import file mismatch:
imported module 'test_notifications_skipped' has this __file__ attribute:
  /app/tests/test_notifications_skipped.py
which is not the same as the test file we want to collect:
  /app/tests/tests/test_notifications_skipped.py
HINT: remove __pycache__ / .pyc files and/or use a unique basename for your test file modules
__________ ERROR collecting tests/tests/test_onboarding_activation.py __________
import file mismatch:
imported module 'test_onboarding_activation' has this __file__ attribute:
  /app/tests/test_onboarding_activation.py
which is not the same as the test file we want to collect:
  /app/tests/tests/test_onboarding_activation.py
HINT: remove __pycache__ / .pyc files and/or use a unique basename for your test file modules
______________ ERROR collecting tests/tests/test_pdf_security.py _______________
import file mismatch:
imported module 'test_pdf_security' has this __file__ attribute:
  /app/tests/test_pdf_security.py
which is not the same as the test file we want to collect:
  /app/tests/tests/test_pdf_security.py
HINT: remove __pycache__ / .pyc files and/or use a unique basename for your test file modules
______________ ERROR collecting tests/tests/test_pdf_vector_qr.py ______________
import file mismatch:
imported module 'test_pdf_vector_qr' has this __file__ attribute:
  /app/tests/test_pdf_vector_qr.py
which is not the same as the test file we want to collect:
  /app/tests/tests/test_pdf_vector_qr.py
HINT: remove __pycache__ / .pyc files and/or use a unique basename for your test file modules
____________ ERROR collecting tests/tests/test_phase4_guardrails.py ____________
import file mismatch:
imported module 'test_phase4_guardrails' has this __file__ attribute:
  /app/tests/test_phase4_guardrails.py
which is not the same as the test file we want to collect:
  /app/tests/tests/test_phase4_guardrails.py
HINT: remove __pycache__ / .pyc files and/or use a unique basename for your test file modules
________________ ERROR collecting tests/tests/test_phase_2_5.py ________________
import file mismatch:
imported module 'test_phase_2_5' has this __file__ attribute:
  /app/tests/test_phase_2_5.py
which is not the same as the test file we want to collect:
  /app/tests/tests/test_phase_2_5.py
HINT: remove __pycache__ / .pyc files and/or use a unique basename for your test file modules
_______________ ERROR collecting tests/tests/test_print_jobs.py ________________
import file mismatch:
imported module 'test_print_jobs' has this __file__ attribute:
  /app/tests/test_print_jobs.py
which is not the same as the test file we want to collect:
  /app/tests/tests/test_print_jobs.py
HINT: remove __pycache__ / .pyc files and/or use a unique basename for your test file modules
_____________ ERROR collecting tests/tests/test_print_preflight.py _____________
import file mismatch:
imported module 'test_print_preflight' has this __file__ attribute:
  /app/tests/test_print_preflight.py
which is not the same as the test file we want to collect:
  /app/tests/tests/test_print_preflight.py
HINT: remove __pycache__ / .pyc files and/or use a unique basename for your test file modules
_______________ ERROR collecting tests/tests/test_print_skus.py ________________
import file mismatch:
imported module 'test_print_skus' has this __file__ attribute:
  /app/tests/test_print_skus.py
which is not the same as the test file we want to collect:
  /app/tests/tests/test_print_skus.py
HINT: remove __pycache__ / .pyc files and/or use a unique basename for your test file modules
_____________ ERROR collecting tests/tests/test_printing_atomic.py _____________
import file mismatch:
imported module 'test_printing_atomic' has this __file__ attribute:
  /app/tests/test_printing_atomic.py
which is not the same as the test file we want to collect:
  /app/tests/tests/test_printing_atomic.py
HINT: remove __pycache__ / .pyc files and/or use a unique basename for your test file modules
______________ ERROR collecting tests/tests/test_pro_features.py _______________
import file mismatch:
imported module 'test_pro_features' has this __file__ attribute:
  /app/tests/test_pro_features.py
which is not the same as the test file we want to collect:
  /app/tests/tests/test_pro_features.py
HINT: remove __pycache__ / .pyc files and/or use a unique basename for your test file modules
_________ ERROR collecting tests/tests/test_property_creation_flow.py __________
import file mismatch:
imported module 'test_property_creation_flow' has this __file__ attribute:
  /app/tests/test_property_creation_flow.py
which is not the same as the test file we want to collect:
  /app/tests/tests/test_property_creation_flow.py
HINT: remove __pycache__ / .pyc files and/or use a unique basename for your test file modules
___________ ERROR collecting tests/tests/test_qr_code_uniqueness.py ____________
import file mismatch:
imported module 'test_qr_code_uniqueness' has this __file__ attribute:
  /app/tests/test_qr_code_uniqueness.py
which is not the same as the test file we want to collect:
  /app/tests/tests/test_qr_code_uniqueness.py
HINT: remove __pycache__ / .pyc files and/or use a unique basename for your test file modules
___________ ERROR collecting tests/tests/test_qr_logo_pro_gating.py ____________
import file mismatch:
imported module 'test_qr_logo_pro_gating' has this __file__ attribute:
  /app/tests/test_qr_logo_pro_gating.py
which is not the same as the test file we want to collect:
  /app/tests/tests/test_qr_logo_pro_gating.py
HINT: remove __pycache__ / .pyc files and/or use a unique basename for your test file modules
____________ ERROR collecting tests/tests/test_qr_logo_rendering.py ____________
import file mismatch:
imported module 'test_qr_logo_rendering' has this __file__ attribute:
  /app/tests/test_qr_logo_rendering.py
which is not the same as the test file we want to collect:
  /app/tests/tests/test_qr_logo_rendering.py
HINT: remove __pycache__ / .pyc files and/or use a unique basename for your test file modules
________________ ERROR collecting tests/tests/test_qr_routes.py ________________
import file mismatch:
imported module 'test_qr_routes' has this __file__ attribute:
  /app/tests/test_qr_routes.py
which is not the same as the test file we want to collect:
  /app/tests/tests/test_qr_routes.py
HINT: remove __pycache__ / .pyc files and/or use a unique basename for your test file modules
_______________ ERROR collecting tests/tests/test_qr_scaling.py ________________
import file mismatch:
imported module 'test_qr_scaling' has this __file__ attribute:
  /app/tests/test_qr_scaling.py
which is not the same as the test file we want to collect:
  /app/tests/tests/test_qr_scaling.py
HINT: remove __pycache__ / .pyc files and/or use a unique basename for your test file modules
______________ ERROR collecting tests/tests/test_release_gate.py _______________
import file mismatch:
imported module 'test_release_gate' has this __file__ attribute:
  /app/tests/test_release_gate.py
which is not the same as the test file we want to collect:
  /app/tests/tests/test_release_gate.py
HINT: remove __pycache__ / .pyc files and/or use a unique basename for your test file modules
________________ ERROR collecting tests/tests/test_repro_500.py ________________
import file mismatch:
imported module 'test_repro_500' has this __file__ attribute:
  /app/tests/test_repro_500.py
which is not the same as the test file we want to collect:
  /app/tests/tests/test_repro_500.py
HINT: remove __pycache__ / .pyc files and/or use a unique basename for your test file modules
__________ ERROR collecting tests/tests/test_smart_sign_activation.py __________
import file mismatch:
imported module 'test_smart_sign_activation' has this __file__ attribute:
  /app/tests/test_smart_sign_activation.py
which is not the same as the test file we want to collect:
  /app/tests/tests/test_smart_sign_activation.py
HINT: remove __pycache__ / .pyc files and/or use a unique basename for your test file modules
_______________ ERROR collecting tests/tests/test_smart_signs.py _______________
import file mismatch:
imported module 'test_smart_signs' has this __file__ attribute:
  /app/tests/test_smart_signs.py
which is not the same as the test file we want to collect:
  /app/tests/tests/test_smart_signs.py
HINT: remove __pycache__ / .pyc files and/or use a unique basename for your test file modules
__________ ERROR collecting tests/tests/test_smart_signs_printing.py ___________
import file mismatch:
imported module 'test_smart_signs_printing' has this __file__ attribute:
  /app/tests/test_smart_signs_printing.py
which is not the same as the test file we want to collect:
  /app/tests/tests/test_smart_signs_printing.py
HINT: remove __pycache__ / .pyc files and/or use a unique basename for your test file modules
________ ERROR collecting tests/tests/test_smartsign_v2_persistence.py _________
import file mismatch:
imported module 'test_smartsign_v2_persistence' has this __file__ attribute:
  /app/tests/test_smartsign_v2_persistence.py
which is not the same as the test file we want to collect:
  /app/tests/tests/test_smartsign_v2_persistence.py
HINT: remove __pycache__ / .pyc files and/or use a unique basename for your test file modules
__________ ERROR collecting tests/tests/test_smartsign_validation.py ___________
import file mismatch:
imported module 'test_smartsign_validation' has this __file__ attribute:
  /app/tests/test_smartsign_validation.py
which is not the same as the test file we want to collect:
  /app/tests/tests/test_smartsign_validation.py
HINT: remove __pycache__ / .pyc files and/or use a unique basename for your test file modules
___________ ERROR collecting tests/tests/test_strategy_alignment.py ____________
import file mismatch:
imported module 'test_strategy_alignment' has this __file__ attribute:
  /app/tests/test_strategy_alignment.py
which is not the same as the test file we want to collect:
  /app/tests/tests/test_strategy_alignment.py
HINT: remove __pycache__ / .pyc files and/or use a unique basename for your test file modules
__________ ERROR collecting tests/tests/test_stripe_price_resolver.py __________
import file mismatch:
imported module 'test_stripe_price_resolver' has this __file__ attribute:
  /app/tests/test_stripe_price_resolver.py
which is not the same as the test file we want to collect:
  /app/tests/tests/test_stripe_price_resolver.py
HINT: remove __pycache__ / .pyc files and/or use a unique basename for your test file modules
_____________ ERROR collecting tests/tests/test_tour_scheduling.py _____________
import file mismatch:
imported module 'test_tour_scheduling' has this __file__ attribute:
  /app/tests/test_tour_scheduling.py
which is not the same as the test file we want to collect:
  /app/tests/tests/test_tour_scheduling.py
HINT: remove __pycache__ / .pyc files and/or use a unique basename for your test file modules
_____________ ERROR collecting tests/tests/test_webhook_amounts.py _____________
import file mismatch:
imported module 'test_webhook_amounts' has this __file__ attribute:
  /app/tests/test_webhook_amounts.py
which is not the same as the test file we want to collect:
  /app/tests/tests/test_webhook_amounts.py
HINT: remove __pycache__ / .pyc files and/or use a unique basename for your test file modules
______________ ERROR collecting tests/tests/test_yard_sign_pdf.py ______________
import file mismatch:
imported module 'test_yard_sign_pdf' has this __file__ attribute:
  /app/tests/test_yard_sign_pdf.py
which is not the same as the test file we want to collect:
  /app/tests/tests/test_yard_sign_pdf.py
HINT: remove __pycache__ / .pyc files and/or use a unique basename for your test file modules
=============================== warnings summary ===============================
utils/logger.py:16
utils/logger.py:16
utils/logger.py:16
  /app/utils/logger.py:16: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
    "timestamp": datetime.utcnow().isoformat(),

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ============================
ERROR tests/tests/test_admin_metrics.py
ERROR tests/tests/test_agent_claiming_security.py
ERROR tests/tests/test_ai_readiness.py
ERROR tests/tests/test_analytics.py
ERROR tests/tests/test_config_boot.py
ERROR tests/tests/test_dashboard_ctas.py
ERROR tests/tests/test_dashboard_smartsigns_phase1.py
ERROR tests/tests/test_dependency_versions.py
ERROR tests/tests/test_env_sanitization.py
ERROR tests/tests/test_events_csrf_exempt.py
ERROR tests/tests/test_events_csrf_runtime.py
ERROR tests/tests/test_feature_flows.py
ERROR tests/tests/test_fix_cleanup.py
ERROR tests/tests/test_free_property.py
ERROR tests/tests/test_fulfillment.py
ERROR tests/tests/test_global_code_generation_enforcement.py
ERROR tests/tests/test_guest_linking_security.py
ERROR tests/tests/test_guest_security.py
ERROR tests/tests/test_import.py
ERROR tests/tests/test_lead_attribution.py
ERROR tests/tests/test_listing_kits_imports.py
ERROR tests/tests/test_local_storage_security.py
ERROR tests/tests/test_notifications_skipped.py
ERROR tests/tests/test_onboarding_activation.py
ERROR tests/tests/test_pdf_security.py
ERROR tests/tests/test_pdf_vector_qr.py
ERROR tests/tests/test_phase4_guardrails.py
ERROR tests/tests/test_phase_2_5.py
ERROR tests/tests/test_print_jobs.py
ERROR tests/tests/test_print_preflight.py
ERROR tests/tests/test_print_skus.py
ERROR tests/tests/test_printing_atomic.py
ERROR tests/tests/test_pro_features.py
ERROR tests/tests/test_property_creation_flow.py
ERROR tests/tests/test_qr_code_uniqueness.py
ERROR tests/tests/test_qr_logo_pro_gating.py
ERROR tests/tests/test_qr_logo_rendering.py
ERROR tests/tests/test_qr_routes.py
ERROR tests/tests/test_qr_scaling.py
ERROR tests/tests/test_release_gate.py
ERROR tests/tests/test_repro_500.py
ERROR tests/tests/test_smart_sign_activation.py
ERROR tests/tests/test_smart_signs.py
ERROR tests/tests/test_smart_signs_printing.py
ERROR tests/tests/test_smartsign_v2_persistence.py
ERROR tests/tests/test_smartsign_validation.py
ERROR tests/tests/test_strategy_alignment.py
ERROR tests/tests/test_stripe_price_resolver.py
ERROR tests/tests/test_tour_scheduling.py
ERROR tests/tests/test_webhook_amounts.py
ERROR tests/tests/test_yard_sign_pdf.py
!!!!!!!!!!!!!!!!!!! Interrupted: 51 errors during collection !!!!!!!!!!!!!!!!!!!
=================== 197 tests collected, 51 errors in 4.08s ====================
